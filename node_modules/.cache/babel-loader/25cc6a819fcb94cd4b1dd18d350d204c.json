{"ast":null,"code":"import _defineProperty from\"/Users/user/Downloads/petlove-main/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/user/Downloads/petlove-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/user/Downloads/petlove-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useState}from\"react\";import{useNavigate,Link}from\"react-router-dom\";import{createUserWithEmailAndPassword}from\"firebase/auth\";import{auth}from\"../firebase\";import{AuthContext}from\"../context/AuthContext\";import InputLogin from\"../components/InputLogin\";import styles from\"./Register.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(){var inputs=[{id:1,name:\"email\",type:\"email\",placeholder:\"Email\",errorMessage:\"It should be a valid email adress\",label:\"Email\",required:true},{id:2,name:\"password\",label:\"Password\",type:\"password\",placeholder:\"Password\",errorMessage:\"Password should be 8-20 characters and include at least 1 letter, 1 number and 1 special character!\",pattern:\"^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,20}$\",required:true},{id:3,name:\"repeatPassword\",label:\"Confirm Password\",type:\"password\",placeholder:\"Confirm Password\",errorMessage:\"Password doesn't match\",//   pattern: \"^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{6,}$\",\nrequired:true}];var _useState=useState(false),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState({email:\"\",password:\"\",repeatPassword:\"\"}),_useState4=_slicedToArray(_useState3,2),values=_useState4[0],setValues=_useState4[1];var navigate=useNavigate();var _useContext=useContext(AuthContext),dispatch=_useContext.dispatch;var onChange=function onChange(e){setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},e.target.name,e.target.value)));};var handleLogin=function handleLogin(e){e.preventDefault();if(values.password!==values.repeatPassword){setError(true);return;}else{setError(false);}createUserWithEmailAndPassword(auth,values.email,values.password).then(function(userCredential){var user=userCredential.user;dispatch({type:\"REGISTER\",payload:user});navigate(\"/\");}).catch(function(error){setError(true);});};return/*#__PURE__*/_jsx(\"div\",{className:styles.register,children:/*#__PURE__*/_jsxs(\"form\",{className:styles.formOne,onSubmit:handleLogin,children:[inputs.map(function(input){return/*#__PURE__*/_jsx(InputLogin,_objectSpread(_objectSpread({},input),{},{value:values[input.name],onChange:onChange}),input.id);}),/*#__PURE__*/_jsxs(\"div\",{className:styles[\"divBtn\"],children:[/*#__PURE__*/_jsx(\"button\",{className:styles[\"btnlogin\"],type:\"submit\",children:\"Register\"}),/*#__PURE__*/_jsxs(\"p\",{className:styles[\"p-auth-info\"],children:[\"Have already an account?\",\" \",/*#__PURE__*/_jsxs(Link,{className:\"link-auth\",to:\"/login\",children:[\" \",\"Login\"]}),\" \"]}),error&&/*#__PURE__*/_jsx(\"p\",{className:styles['error-register'],children:\"passwords does not match\"})]})]})});};export default Register;","map":{"version":3,"names":["useContext","useState","useNavigate","Link","createUserWithEmailAndPassword","auth","AuthContext","InputLogin","styles","Register","inputs","id","name","type","placeholder","errorMessage","label","required","pattern","error","setError","email","password","repeatPassword","values","setValues","navigate","dispatch","onChange","e","target","value","handleLogin","preventDefault","then","userCredential","user","payload","catch","register","formOne","map","input"],"sources":["/Users/user/Downloads/petlove-main/src/components/Register.js"],"sourcesContent":["import { useContext, useState } from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\n\nimport { createUserWithEmailAndPassword } from \"firebase/auth\";\nimport { auth } from \"../firebase\";\n\nimport { AuthContext } from \"../context/AuthContext\";\nimport InputLogin from \"../components/InputLogin\";\nimport styles from \"./Register.module.css\";\n\nconst Register = () => {\n    const inputs = [\n        {\n            id: 1,\n            name: \"email\",\n            type: \"email\",\n            placeholder: \"Email\",\n            errorMessage: \"It should be a valid email adress\",\n            label: \"Email\",\n            required: true,\n        },\n        {\n            id: 2,\n            name: \"password\",\n            label: \"Password\",\n            type: \"password\",\n            placeholder: \"Password\",\n            errorMessage:\n                \"Password should be 8-20 characters and include at least 1 letter, 1 number and 1 special character!\",\n            pattern: `^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,20}$`,\n            required: true,\n        },\n        {\n            id: 3,\n            name: \"repeatPassword\",\n            label: \"Confirm Password\",\n            type: \"password\",\n            placeholder: \"Confirm Password\",\n            errorMessage: \"Password doesn't match\",\n            //   pattern: \"^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{6,}$\",\n            required: true,\n        },\n    ];\n\n\n    const [error, setError] = useState(false);\n\n    const [values, setValues] = useState({\n        email: \"\",\n        password: \"\",\n        repeatPassword: \"\"\n    });\n\n    const navigate = useNavigate();\n\n    const { dispatch } = useContext(AuthContext);\n\n    const onChange = (e) => {\n        setValues({ ...values, [e.target.name]: e.target.value });\n    };\n\n    const handleLogin = (e) => {\n        e.preventDefault();\n\n        if (values.password !== values.repeatPassword) {\n            setError(true)\n            return;\n        } else {\n            setError(false)\n        }\n\n        createUserWithEmailAndPassword(auth, values.email, values.password)\n            .then((userCredential) => {\n\n                const user = userCredential.user;\n                dispatch({ type: \"REGISTER\", payload: user });\n\n                navigate(\"/\");\n\n            })\n            .catch((error) => {\n                setError(true);\n            });\n    };\n\n    return (\n        <div className={styles.register}>\n            <form className={styles.formOne} onSubmit={handleLogin}>\n                {inputs.map((input) => (\n                    <InputLogin\n                        key={input.id}\n                        {...input}\n                        value={values[input.name]}\n                        onChange={onChange}\n                    />\n                ))}\n                <div className={styles[\"divBtn\"]}>\n                    <button className={styles[\"btnlogin\"]} type=\"submit\">\n                        Register\n                    </button>\n                    <p className={styles[\"p-auth-info\"]}>\n                        Have already an account?{\" \"}\n                        <Link className=\"link-auth\" to=\"/login\">\n                            {\" \"}\n                            Login\n                        </Link>{\" \"}\n                    </p>\n                    {error && <p className={styles['error-register']}>passwords does not match</p>}\n                </div>\n            </form>\n        </div>\n    );\n};\n\nexport default Register;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}