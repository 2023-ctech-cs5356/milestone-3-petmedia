{"ast":null,"code":"import _regeneratorRuntime from\"/Users/user/Downloads/petlove-main/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/user/Downloads/petlove-main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/user/Downloads/petlove-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useState}from\"react\";import{AuthContext}from\"../context/AuthContext\";import{PetContext}from\"../context/PetContext\";import PetItem from\"./Pets/PetItem\";import styles from\"../components/Profile.module.css\";import{Oval}from\"react-loader-spinner\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Profile=function Profile(){var ctx=useContext(PetContext);var _useContext=useContext(AuthContext),currentUser=_useContext.currentUser;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),petsList=_useState4[0],setPetList=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),likedPets=_useState6[0],setLikedPost=_useState6[1];var pets=ctx.pets;if(petsList.length===0){setTimeout(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setPetList(pets.filter(function(pet){return pet.ownerId===currentUser.uid;}));setLikedPost(pets.filter(function(pet){return pet.likedBy.includes(currentUser.uid);}));setLoading(false);case 3:case\"end\":return _context.stop();}}},_callee);})),3000);}return/*#__PURE__*/_jsxs(\"section\",{className:styles['sectionProfile'],children:[/*#__PURE__*/_jsxs(\"div\",{className:styles['userEmail'],children:[\"Hello \",currentUser.email]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Oval,{height:90,width:90,color:\"#fff\",wrapperClass:\"loader\",visible:isLoading,ariaLabel:\"oval-loading\",secondaryColor:\"#fff\",strokeWidth:2,strokeWidthSecondary:2}),isLoading?\"\":/*#__PURE__*/_jsxs(\"h3\",{className:styles['breeds-wrapper-title'],children:[\"You listed \",petsList.length,\" Pets \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid--2-cols card-grid-wrapper\",children:petsList.length>0?petsList.map(function(pet){return/*#__PURE__*/_jsx(PetItem,{pet:pet,index:pets.indexOf(pet)},pet.id);}):/*#__PURE__*/_jsx(\"h2\",{})}),isLoading?\"\":/*#__PURE__*/_jsxs(\"h3\",{className:styles['breeds-wrapper-title'],children:[\" You liked \",likedPets.length,\" Pets  \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid--2-cols card-grid-wrapper\",children:likedPets.length>0?likedPets.map(function(pet){return/*#__PURE__*/_jsx(PetItem,{pet:pet,index:pets.indexOf(pet)},pet.id);}):/*#__PURE__*/_jsx(\"h2\",{})})]})]});};export default Profile;","map":{"version":3,"names":["useContext","useState","AuthContext","PetContext","PetItem","styles","Oval","Profile","ctx","currentUser","isLoading","setLoading","petsList","setPetList","likedPets","setLikedPost","pets","length","setTimeout","filter","pet","ownerId","uid","likedBy","includes","email","map","indexOf","id"],"sources":["/Users/user/Downloads/petlove-main/src/components/Profile.js"],"sourcesContent":["import { useContext, useState } from \"react\";\n\nimport { AuthContext } from \"../context/AuthContext\";\nimport { PetContext } from \"../context/PetContext\";\nimport PetItem from \"./Pets/PetItem\";\n\nimport styles from \"../components/Profile.module.css\"\nimport { Oval } from \"react-loader-spinner\";\n\nconst Profile = () => {\n    const ctx = useContext(PetContext);\n    const { currentUser } = useContext(AuthContext);\n\n    const [isLoading, setLoading] = useState(true);\n    const [petsList, setPetList] = useState([]);\n    const [likedPets, setLikedPost] = useState([]);\n\n\n    const pets = ctx.pets;\n\n    if (petsList.length === 0) {\n        setTimeout(async () => {\n            setPetList(pets.filter((pet) => pet.ownerId === currentUser.uid));\n            setLikedPost(pets.filter((pet) => pet.likedBy.includes(currentUser.uid)));\n            setLoading(false);\n        }, 3000);\n    }\n\n    return (\n        <section className={styles['sectionProfile']}>\n            <div className={styles['userEmail']}>\n                Hello {currentUser.email}\n            </div>\n            <div className=\"container\">\n                <Oval\n                    height={90}\n                    width={90}\n                    color=\"#fff\"\n                    wrapperClass=\"loader\"\n                    visible={isLoading}\n                    ariaLabel=\"oval-loading\"\n                    secondaryColor=\"#fff\"\n                    strokeWidth={2}\n                    strokeWidthSecondary={2}\n                />\n\n                {isLoading ? \"\" : < h3 className={styles['breeds-wrapper-title']}>You listed {petsList.length} Pets </h3>}\n                <div className=\"grid grid--2-cols card-grid-wrapper\">\n\n                    {petsList.length > 0\n                        ? petsList.map(pet => <PetItem key={pet.id} pet={pet} index={pets.indexOf(pet)} />)\n                        : <h2></h2>\n                    }\n\n                </div>\n                {isLoading ? \"\" : <h3 className={styles['breeds-wrapper-title']}> You liked {likedPets.length} Pets  </h3>}\n                <div className=\"grid grid--2-cols card-grid-wrapper\" >\n\n                    {likedPets.length > 0\n                        ? likedPets.map(pet => <PetItem key={pet.id} pet={pet} index={pets.indexOf(pet)} />)\n                        : <h2></h2>\n                    }\n\n                </div>\n            </div>\n        </section >\n    )\n\n}\n\n\nexport default Profile;"],"mappings":"wXAAA,OAASA,UAAT,CAAqBC,QAArB,KAAqC,OAArC,CAEA,OAASC,WAAT,KAA4B,wBAA5B,CACA,OAASC,UAAT,KAA2B,uBAA3B,CACA,MAAOC,QAAP,KAAoB,gBAApB,CAEA,MAAOC,OAAP,KAAmB,kCAAnB,CACA,OAASC,IAAT,KAAqB,sBAArB,C,wFAEA,GAAMC,QAAO,CAAG,QAAVA,QAAU,EAAM,CAClB,GAAMC,IAAG,CAAGR,UAAU,CAACG,UAAD,CAAtB,CACA,gBAAwBH,UAAU,CAACE,WAAD,CAAlC,CAAQO,WAAR,aAAQA,WAAR,CAEA,cAAgCR,QAAQ,CAAC,IAAD,CAAxC,wCAAOS,SAAP,eAAkBC,UAAlB,eACA,eAA+BV,QAAQ,CAAC,EAAD,CAAvC,yCAAOW,QAAP,eAAiBC,UAAjB,eACA,eAAkCZ,QAAQ,CAAC,EAAD,CAA1C,yCAAOa,SAAP,eAAkBC,YAAlB,eAGA,GAAMC,KAAI,CAAGR,GAAG,CAACQ,IAAjB,CAEA,GAAIJ,QAAQ,CAACK,MAAT,GAAoB,CAAxB,CAA2B,CACvBC,UAAU,wEAAC,qIACPL,UAAU,CAACG,IAAI,CAACG,MAAL,CAAY,SAACC,GAAD,QAASA,IAAG,CAACC,OAAJ,GAAgBZ,WAAW,CAACa,GAArC,EAAZ,CAAD,CAAV,CACAP,YAAY,CAACC,IAAI,CAACG,MAAL,CAAY,SAACC,GAAD,QAASA,IAAG,CAACG,OAAJ,CAAYC,QAAZ,CAAqBf,WAAW,CAACa,GAAjC,CAAT,EAAZ,CAAD,CAAZ,CACAX,UAAU,CAAC,KAAD,CAAV,CAHO,sDAAD,GAIP,IAJO,CAAV,CAKH,CAED,mBACI,iBAAS,SAAS,CAAEN,MAAM,CAAC,gBAAD,CAA1B,wBACI,aAAK,SAAS,CAAEA,MAAM,CAAC,WAAD,CAAtB,oBACWI,WAAW,CAACgB,KADvB,GADJ,cAII,aAAK,SAAS,CAAC,WAAf,wBACI,KAAC,IAAD,EACI,MAAM,CAAE,EADZ,CAEI,KAAK,CAAE,EAFX,CAGI,KAAK,CAAC,MAHV,CAII,YAAY,CAAC,QAJjB,CAKI,OAAO,CAAEf,SALb,CAMI,SAAS,CAAC,cANd,CAOI,cAAc,CAAC,MAPnB,CAQI,WAAW,CAAE,CARjB,CASI,oBAAoB,CAAE,CAT1B,EADJ,CAaKA,SAAS,CAAG,EAAH,cAAQ,YAAK,SAAS,CAAEL,MAAM,CAAC,sBAAD,CAAtB,yBAA4DO,QAAQ,CAACK,MAArE,YAbtB,cAcI,YAAK,SAAS,CAAC,qCAAf,UAEKL,QAAQ,CAACK,MAAT,CAAkB,CAAlB,CACKL,QAAQ,CAACc,GAAT,CAAa,SAAAN,GAAG,qBAAI,KAAC,OAAD,EAAsB,GAAG,CAAEA,GAA3B,CAAgC,KAAK,CAAEJ,IAAI,CAACW,OAAL,CAAaP,GAAb,CAAvC,EAAcA,GAAG,CAACQ,EAAlB,CAAJ,EAAhB,CADL,cAEK,aAJV,EAdJ,CAsBKlB,SAAS,CAAG,EAAH,cAAQ,YAAI,SAAS,CAAEL,MAAM,CAAC,sBAAD,CAArB,yBAA2DS,SAAS,CAACG,MAArE,aAtBtB,cAuBI,YAAK,SAAS,CAAC,qCAAf,UAEKH,SAAS,CAACG,MAAV,CAAmB,CAAnB,CACKH,SAAS,CAACY,GAAV,CAAc,SAAAN,GAAG,qBAAI,KAAC,OAAD,EAAsB,GAAG,CAAEA,GAA3B,CAAgC,KAAK,CAAEJ,IAAI,CAACW,OAAL,CAAaP,GAAb,CAAvC,EAAcA,GAAG,CAACQ,EAAlB,CAAJ,EAAjB,CADL,cAEK,aAJV,EAvBJ,GAJJ,GADJ,CAwCH,CA3DD,CA8DA,cAAerB,QAAf"},"metadata":{},"sourceType":"module"}