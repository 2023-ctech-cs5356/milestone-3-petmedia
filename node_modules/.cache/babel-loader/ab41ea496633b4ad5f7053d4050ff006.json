{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ihsuanhuang/Documents/m3hw/petest/petlove/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/ihsuanhuang/Documents/m3hw/petest/petlove/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/ihsuanhuang/Documents/m3hw/petest/petlove/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/ihsuanhuang/Documents/m3hw/petest/petlove/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/ihsuanhuang/Documents/m3hw/petest/petlove/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useContext}from'react';import{useNavigate}from'react-router-dom';import{PetContext}from'../../context/PetContext';import{AuthContext}from'../../context/AuthContext';import InputLogin from'../InputLogin';import styles from'../Pets/AddNewPet.module.css';import inputsData from'./inputsData';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddNewPet=function AddNewPet(){var ctx=useContext(PetContext);var _useContext=useContext(AuthContext),currentUser=_useContext.currentUser;var navigate=useNavigate();var _useState=useState({name:'',bread:'',imageUrl:'',description:''}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var onChange=function onChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setValues(function(prevValues){return _objectSpread(_objectSpread({},prevValues),{},_defineProperty({},name,value));});};var handleAddPet=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return addPet();case 3:case\"end\":return _context.stop();}}},_callee);}));return function handleAddPet(_x){return _ref.apply(this,arguments);};}();var addPet=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return ctx.addNewPet({name:values.name,bread:values.bread,imageUrl:values.imageUrl,description:values.description,ownerId:currentUser.uid,likedBy:[]});case 3:navigate('/pets');_context2.next=10;break;case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](0);alert(_context2.t0);console.log(_context2.t0);case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,6]]);}));return function addPet(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Add Pet\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.almub,children:/*#__PURE__*/_jsxs(\"div\",{className:styles['wrapper-form'],children:[/*#__PURE__*/_jsx(\"div\",{className:styles['space']}),/*#__PURE__*/_jsxs(\"form\",{className:\"grid grid--2-cols\",onSubmit:handleAddPet,children:[inputsData.map(function(input){return/*#__PURE__*/_jsx(InputLogin,_objectSpread(_objectSpread({},input),{},{value:values[input.name],onChange:onChange}),input.id);}),/*#__PURE__*/_jsx(\"div\",{className:styles['btn-form-container'],children:/*#__PURE__*/_jsx(\"button\",{className:styles['submit-button'],children:\"Add\"})})]})]})})]});};export default AddNewPet;","map":{"version":3,"names":["useState","useContext","useNavigate","PetContext","AuthContext","InputLogin","styles","inputsData","AddNewPet","ctx","currentUser","navigate","name","bread","imageUrl","description","values","setValues","onChange","e","target","value","prevValues","handleAddPet","preventDefault","addPet","addNewPet","ownerId","uid","likedBy","alert","console","log","almub","map","input","id"],"sources":["/Users/ihsuanhuang/Documents/m3hw/petest/petlove/src/components/Pets/AddNewPet.js"],"sourcesContent":["\nimport { useState, useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport { PetContext } from '../../context/PetContext';\nimport { AuthContext } from '../../context/AuthContext';\n\nimport InputLogin from '../InputLogin';\nimport styles from '../Pets/AddNewPet.module.css';\nimport inputsData from './inputsData';\n\nconst AddNewPet = () => {\n  const ctx = useContext(PetContext);\n  const { currentUser } = useContext(AuthContext);\n\n  const navigate = useNavigate();\n\n  const [values, setValues] = useState({\n    name: '',\n    bread: '',\n    imageUrl: '',\n    description: '',\n  });\n\n  const onChange = (e) => {\n    const { name, value } = e.target;\n    setValues((prevValues) => ({ ...prevValues, [name]: value }));\n  };\n\n  const handleAddPet = async (e) => {\n    e.preventDefault();\n    await addPet();\n  };\n\n  const addPet = async () => {\n    try {\n      await ctx.addNewPet({\n        name: values.name,\n        bread: values.bread,\n        imageUrl: values.imageUrl,\n        description: values.description,\n        ownerId: currentUser.uid,\n        likedBy: [],\n      });\n      navigate('/pets');\n    } catch (error) {\n      alert(error);\n      console.log(error);\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <h1>Add Pet</h1>\n      <div className={styles.almub}>\n        <div className={styles['wrapper-form']}>\n          <div className={styles['space']}></div>\n          <form className=\"grid grid--2-cols\" onSubmit={handleAddPet}>\n            {inputsData.map((input) => (\n              <InputLogin\n                key={input.id}\n                {...input}\n                value={values[input.name]}\n                onChange={onChange}\n              />\n            ))}\n            <div className={styles['btn-form-container']}>\n              <button className={styles['submit-button']}>Add</button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AddNewPet;"],"mappings":"+qBACA,OAASA,QAAT,CAAmBC,UAAnB,KAAqC,OAArC,CACA,OAASC,WAAT,KAA4B,kBAA5B,CAEA,OAASC,UAAT,KAA2B,0BAA3B,CACA,OAASC,WAAT,KAA4B,2BAA5B,CAEA,MAAOC,WAAP,KAAuB,eAAvB,CACA,MAAOC,OAAP,KAAmB,8BAAnB,CACA,MAAOC,WAAP,KAAuB,cAAvB,C,wFAEA,GAAMC,UAAS,CAAG,QAAZA,UAAY,EAAM,CACtB,GAAMC,IAAG,CAAGR,UAAU,CAACE,UAAD,CAAtB,CACA,gBAAwBF,UAAU,CAACG,WAAD,CAAlC,CAAQM,WAAR,aAAQA,WAAR,CAEA,GAAMC,SAAQ,CAAGT,WAAW,EAA5B,CAEA,cAA4BF,QAAQ,CAAC,CACnCY,IAAI,CAAE,EAD6B,CAEnCC,KAAK,CAAE,EAF4B,CAGnCC,QAAQ,CAAE,EAHyB,CAInCC,WAAW,CAAE,EAJsB,CAAD,CAApC,wCAAOC,MAAP,eAAeC,SAAf,eAOA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,CAACC,CAAD,CAAO,CACtB,cAAwBA,CAAC,CAACC,MAA1B,CAAQR,IAAR,WAAQA,IAAR,CAAcS,KAAd,WAAcA,KAAd,CACAJ,SAAS,CAAC,SAACK,UAAD,wCAAsBA,UAAtB,wBAAmCV,IAAnC,CAA0CS,KAA1C,IAAD,CAAT,CACD,CAHD,CAKA,GAAME,aAAY,4FAAG,iBAAOJ,CAAP,oHACnBA,CAAC,CAACK,cAAF,GADmB,sBAEbC,OAAM,EAFO,uDAAH,kBAAZF,aAAY,4CAAlB,CAKA,GAAME,OAAM,6FAAG,kLAELhB,IAAG,CAACiB,SAAJ,CAAc,CAClBd,IAAI,CAAEI,MAAM,CAACJ,IADK,CAElBC,KAAK,CAAEG,MAAM,CAACH,KAFI,CAGlBC,QAAQ,CAAEE,MAAM,CAACF,QAHC,CAIlBC,WAAW,CAAEC,MAAM,CAACD,WAJF,CAKlBY,OAAO,CAAEjB,WAAW,CAACkB,GALH,CAMlBC,OAAO,CAAE,EANS,CAAd,CAFK,QAUXlB,QAAQ,CAAC,OAAD,CAAR,CAVW,mFAYXmB,KAAK,cAAL,CACAC,OAAO,CAACC,GAAR,eAbW,sEAAH,kBAANP,OAAM,2CAAZ,CAiBA,mBACE,aAAK,SAAS,CAAC,WAAf,wBACE,+BADF,cAEE,YAAK,SAAS,CAAEnB,MAAM,CAAC2B,KAAvB,uBACE,aAAK,SAAS,CAAE3B,MAAM,CAAC,cAAD,CAAtB,wBACE,YAAK,SAAS,CAAEA,MAAM,CAAC,OAAD,CAAtB,EADF,cAEE,cAAM,SAAS,CAAC,mBAAhB,CAAoC,QAAQ,CAAEiB,YAA9C,WACGhB,UAAU,CAAC2B,GAAX,CAAe,SAACC,KAAD,qBACd,KAAC,UAAD,gCAEMA,KAFN,MAGE,KAAK,CAAEnB,MAAM,CAACmB,KAAK,CAACvB,IAAP,CAHf,CAIE,QAAQ,CAAEM,QAJZ,GACOiB,KAAK,CAACC,EADb,CADc,EAAf,CADH,cASE,YAAK,SAAS,CAAE9B,MAAM,CAAC,oBAAD,CAAtB,uBACE,eAAQ,SAAS,CAAEA,MAAM,CAAC,eAAD,CAAzB,iBADF,EATF,GAFF,GADF,EAFF,GADF,CAuBD,CA/DD,CAiEA,cAAeE,UAAf"},"metadata":{},"sourceType":"module"}