{"ast":null,"code":"import _regeneratorRuntime from\"/Users/user/Downloads/petlove-main/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/user/Downloads/petlove-main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/user/Downloads/petlove-main/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/user/Downloads/petlove-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/user/Downloads/petlove-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{useContext}from'react';import{useNavigate}from'react-router-dom';import{PetContext}from'../../context/PetContext';import{AuthContext}from'../../context/AuthContext';import InputLogin from'../InputLogin';import styles from'../Pets/AddNewPet.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddNewPet=function AddNewPet(){var ctx=useContext(PetContext);var _useContext=useContext(AuthContext),currentUser=_useContext.currentUser;var navigate=useNavigate();var inputs=[{id:1,name:\"name\",type:\"text\",errorMessage:\"Cannot be empty\",label:\"Name\",required:true},{id:2,name:\"bread\",type:\"text\",errorMessage:\"Cannot be empty\",label:\"bread\",required:true},{id:3,name:\"imageUrl\",type:\"url\",errorMessage:\"Should be a valid URL\",label:\"imageUrl\",pattern:\"(https://[^\\\"]*?)\",required:true},{id:4,name:\"description\",type:\"text\",errorMessage:\"Should be at least 50 characters\",label:\"description\",required:true}];var _useState=useState({name:\"\",bread:\"\",imageUrl:\"\",description:\"\"}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var onChange=function onChange(e){setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},e.target.name,e.target.value)));};var handleAddPet=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();try{ctx.addNewPet({name:values.name,bread:values.bread,imageUrl:values.imageUrl,description:values.description,ownerId:currentUser.uid,likedBy:[]});}catch(error){alert(error);console.log(error);}navigate('/pets');case 3:case\"end\":return _context.stop();}}},_callee);}));return function handleAddPet(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Add Pet\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.almub,children:/*#__PURE__*/_jsxs(\"div\",{className:styles['wrapper-form'],children:[/*#__PURE__*/_jsx(\"div\",{className:styles['space']}),/*#__PURE__*/_jsxs(\"form\",{className:\"grid grid--2-cols\",onSubmit:handleAddPet,children:[inputs.map(function(input){return/*#__PURE__*/_jsx(InputLogin,_objectSpread(_objectSpread({},input),{},{value:values[input.name],onChange:onChange}),input.id);}),/*#__PURE__*/_jsx(\"div\",{className:styles['btn-form-container'],children:/*#__PURE__*/_jsx(\"button\",{className:styles['submit-button'],children:\"Add\"})})]})]})})]});};export default AddNewPet;","map":{"version":3,"names":["useState","useContext","useNavigate","PetContext","AuthContext","InputLogin","styles","AddNewPet","ctx","currentUser","navigate","inputs","id","name","type","errorMessage","label","required","pattern","bread","imageUrl","description","values","setValues","onChange","e","target","value","handleAddPet","preventDefault","addNewPet","ownerId","uid","likedBy","error","alert","console","log","almub","map","input"],"sources":["/Users/user/Downloads/petlove-main/src/components/Pets/AddNewPet.js"],"sourcesContent":["import { useState } from 'react';\nimport { useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport { PetContext } from '../../context/PetContext'\nimport { AuthContext } from '../../context/AuthContext';\n\nimport InputLogin from '../InputLogin';\nimport styles from '../Pets/AddNewPet.module.css'\n\n\nconst AddNewPet = () => {\n\n    const ctx = useContext(PetContext)\n    const { currentUser } = useContext(AuthContext);\n\n\n    const navigate = useNavigate();\n\n    const inputs = [\n        {\n            id: 1,\n            name: \"name\",\n            type: \"text\",\n            errorMessage: \"Cannot be empty\",\n            label: \"Name\",\n            required: true,\n        },\n        {\n            id: 2,\n            name: \"bread\",\n            type: \"text\",\n            errorMessage: \"Cannot be empty\",\n            label: \"bread\",\n            required: true,\n        },\n        {\n            id: 3,\n            name: \"imageUrl\",\n            type: \"url\",\n            errorMessage: \"Should be a valid URL\",\n            label: \"imageUrl\",\n            pattern: `(https://[^\"]*?\\)`,\n            required: true,\n        },\n        {\n            id: 4,\n            name: \"description\",\n            type: \"text\",\n            errorMessage: \"Should be at least 50 characters\",\n            label: \"description\",\n            required: true,\n        }\n    ]\n\n    const [values, setValues] = useState({\n        name: \"\",\n        bread: \"\",\n        imageUrl: \"\",\n        description: \"\",\n    })\n\n\n\n\n    const onChange = (e) => {\n        setValues({ ...values, [e.target.name]: e.target.value });\n    }\n\n\n    const handleAddPet = async (e) => {\n        e.preventDefault();\n\n        try {\n            ctx.addNewPet({\n                name: values.name,\n                bread: values.bread,\n                imageUrl: values.imageUrl,\n                description: values.description,\n                ownerId: currentUser.uid,\n                likedBy: [],\n            });\n        } catch (error) {\n            alert(error);\n            console.log(error)\n        }\n\n        navigate('/pets');\n    }\n\n\n\n    return (\n\n        <div className=\"container\">\n            <h1>Add Pet</h1>\n            <div className={styles.almub}>\n                <div className={styles['wrapper-form']}>\n                    <div className={styles['space']}></div>\n                    <form className='grid grid--2-cols' onSubmit={handleAddPet}>\n                        {inputs.map((input) => (\n                            <InputLogin\n                                key={input.id}\n                                {...input}\n                                value={values[input.name]}\n                                onChange={onChange}\n                            />\n                        ))}\n                        <div className={styles['btn-form-container']}>\n                            <button className={styles['submit-button']}>Add</button>\n\n                        </div>\n                    </form>\n\n                </div>\n            </div>\n        </div>\n\n    );\n\n}\n\n\nexport default AddNewPet;"],"mappings":"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"},"metadata":{},"sourceType":"module"}