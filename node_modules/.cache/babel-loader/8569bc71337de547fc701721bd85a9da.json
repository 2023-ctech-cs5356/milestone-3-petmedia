{"ast":null,"code":"var _jsxFileName = \"/Users/ihsuanhuang/Documents/m3hw/petest/petlove/src/context/AuthContext.js\",\n    _s = $RefreshSig$();\n\n// import from react\nimport { createContext, useEffect, useReducer } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  currentUser: JSON.parse(localStorage.getItem(\"user\")) || null\n};\nexport const AuthContext = /*#__PURE__*/createContext(initialState); // reducer function to manage the state of the authentication context\n\nfunction authReducer(state, action) {\n  // different logging cases\n  switch (action.type) {\n    case \"LOGIN\":\n      return { ...state,\n        currentUser: action.payload\n      };\n\n    case \"LOGOUT\":\n      return { ...state,\n        currentUser: null\n      };\n\n    case \"REGISTER\":\n      return { ...state,\n        currentUser: action.payload\n      };\n\n    default:\n      return state;\n  }\n} // provide an authentication context for the children components\n\n\nexport function AuthContextProvider(_ref) {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  // hook to manage the authentication state and dispatch actions\n  const [state, dispatch] = useReducer(authReducer, initialState); // used to persist the currentUser object in local storage whenever it changes\n\n  useEffect(() => {\n    localStorage.setItem(\"user\", JSON.stringify(state.currentUser));\n  }, [state.currentUser]); // contains the 'currentUser' state and 'dispatch' method\n\n  const authContextValue = {\n    currentUser: state.currentUser,\n    dispatch\n  }; // return\n\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: authContextValue,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 7\n  }, this);\n}\n\n_s(AuthContextProvider, \"bgCdjuTOmPdSBRwTap80EFd9Y3U=\");\n\n_c = AuthContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthContextProvider\");","map":{"version":3,"names":["createContext","useEffect","useReducer","initialState","currentUser","JSON","parse","localStorage","getItem","AuthContext","authReducer","state","action","type","payload","AuthContextProvider","children","dispatch","setItem","stringify","authContextValue"],"sources":["/Users/ihsuanhuang/Documents/m3hw/petest/petlove/src/context/AuthContext.js"],"sourcesContent":["// import from react\nimport { createContext, useEffect, useReducer } from \"react\";\n\nconst initialState = {\n    currentUser: JSON.parse(localStorage.getItem(\"user\")) || null,\n  };\n  \nexport const AuthContext = createContext(initialState);\n\n// reducer function to manage the state of the authentication context\nfunction authReducer(state, action) {\n  \n  // different logging cases\n  switch (action.type) {\n    case \"LOGIN\":\n        return { ...state, currentUser: action.payload };\n    case \"LOGOUT\":\n        return { ...state, currentUser: null };\n    case \"REGISTER\": \n        return {...state, currentUser: action.payload,};\n    default:\n        return state;\n    }\n  }\n  \n  // provide an authentication context for the children components\n  export function AuthContextProvider({ children }) {\n\n    // hook to manage the authentication state and dispatch actions\n    const [state, dispatch] = useReducer(authReducer, initialState);\n  \n    // used to persist the currentUser object in local storage whenever it changes\n    useEffect(() => {\n      localStorage.setItem(\"user\", JSON.stringify(state.currentUser));\n    }, [state.currentUser]);\n  \n    // contains the 'currentUser' state and 'dispatch' method\n    const authContextValue = {\n      currentUser: state.currentUser,\n      dispatch,\n    };\n  \n    // return\n    return (\n      <AuthContext.Provider value={authContextValue}>\n        {children}\n      </AuthContext.Provider>\n    );\n  }\n"],"mappings":";;;AAAA;AACA,SAASA,aAAT,EAAwBC,SAAxB,EAAmCC,UAAnC,QAAqD,OAArD;;AAEA,MAAMC,YAAY,GAAG;EACjBC,WAAW,EAAEC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,KAA4C;AADxC,CAArB;AAIA,OAAO,MAAMC,WAAW,gBAAGT,aAAa,CAACG,YAAD,CAAjC,C,CAEP;;AACA,SAASO,WAAT,CAAqBC,KAArB,EAA4BC,MAA5B,EAAoC;EAElC;EACA,QAAQA,MAAM,CAACC,IAAf;IACE,KAAK,OAAL;MACI,OAAO,EAAE,GAAGF,KAAL;QAAYP,WAAW,EAAEQ,MAAM,CAACE;MAAhC,CAAP;;IACJ,KAAK,QAAL;MACI,OAAO,EAAE,GAAGH,KAAL;QAAYP,WAAW,EAAE;MAAzB,CAAP;;IACJ,KAAK,UAAL;MACI,OAAO,EAAC,GAAGO,KAAJ;QAAWP,WAAW,EAAEQ,MAAM,CAACE;MAA/B,CAAP;;IACJ;MACI,OAAOH,KAAP;EARN;AAUC,C,CAED;;;AACA,OAAO,SAASI,mBAAT,OAA2C;EAAA;;EAAA,IAAd;IAAEC;EAAF,CAAc;EAEhD;EACA,MAAM,CAACL,KAAD,EAAQM,QAAR,IAAoBf,UAAU,CAACQ,WAAD,EAAcP,YAAd,CAApC,CAHgD,CAKhD;;EACAF,SAAS,CAAC,MAAM;IACdM,YAAY,CAACW,OAAb,CAAqB,MAArB,EAA6Bb,IAAI,CAACc,SAAL,CAAeR,KAAK,CAACP,WAArB,CAA7B;EACD,CAFQ,EAEN,CAACO,KAAK,CAACP,WAAP,CAFM,CAAT,CANgD,CAUhD;;EACA,MAAMgB,gBAAgB,GAAG;IACvBhB,WAAW,EAAEO,KAAK,CAACP,WADI;IAEvBa;EAFuB,CAAzB,CAXgD,CAgBhD;;EACA,oBACE,QAAC,WAAD,CAAa,QAAb;IAAsB,KAAK,EAAEG,gBAA7B;IAAA,UACGJ;EADH;IAAA;IAAA;IAAA;EAAA,QADF;AAKD;;GAtBeD,mB;;KAAAA,mB"},"metadata":{},"sourceType":"module"}