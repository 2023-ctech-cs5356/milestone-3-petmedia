{"ast":null,"code":"import _defineProperty from\"/Users/user/Downloads/petlove-main/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/user/Downloads/petlove-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/user/Downloads/petlove-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useState}from'react';import{useNavigate,Link}from'react-router-dom';import{signInWithEmailAndPassword}from\"firebase/auth\";import{auth}from'../firebase';import InputLogin from'../components/InputLogin';import{AuthContext}from'../context/AuthContext';import styles from'./Login.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var inputs=[{id:1,name:\"email\",type:\"email\",placeholder:\"Email\",errorMessage:\"It should be a valid email adress\",label:\"Email\",required:true},{id:2,name:\"password\",label:\"Password\",type:\"password\",placeholder:\"Password\",errorMessage:\"Minimum six characters, at least one letter and one number\",required:true}];var _useState=useState(false),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState({email:\"\",password:\"\"}),_useState4=_slicedToArray(_useState3,2),values=_useState4[0],setValues=_useState4[1];var navigate=useNavigate();var _useContext=useContext(AuthContext),dispatch=_useContext.dispatch;var onChange=function onChange(e){setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},e.target.name,e.target.value)));};var handleLogin=function handleLogin(e){e.preventDefault();signInWithEmailAndPassword(auth,values.email,values.password).then(function(userCredential){// Signed in \nvar user=userCredential.user;dispatch({type:\"LOGIN\",payload:user});navigate('/');}).catch(function(error){setError(true);});};return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:styles.login,children:/*#__PURE__*/_jsxs(\"form\",{className:styles.formOne,onSubmit:handleLogin,children:[inputs.map(function(input){return/*#__PURE__*/_jsx(InputLogin,_objectSpread(_objectSpread({},input),{},{value:values[input.name],onChange:onChange}),input.id);}),/*#__PURE__*/_jsxs(\"div\",{className:styles.divBtn,children:[/*#__PURE__*/_jsx(\"button\",{disabled:error,className:styles.btnlogin,children:\"Login\"}),/*#__PURE__*/_jsxs(\"p\",{className:styles[\"p-auth-info\"],children:[\"Don't Have an Account?\",\" \",/*#__PURE__*/_jsxs(Link,{className:\"link-auth\",to:\"/register\",children:[\" \",\"Register\"]}),\" \"]}),error&&/*#__PURE__*/_jsx(\"p\",{className:styles['error-login'],children:\"Incorrect Credentials\"})]})]})})});};export default Login;","map":{"version":3,"names":["useContext","useState","useNavigate","Link","signInWithEmailAndPassword","auth","InputLogin","AuthContext","styles","Login","inputs","id","name","type","placeholder","errorMessage","label","required","error","setError","email","password","values","setValues","navigate","dispatch","onChange","e","target","value","handleLogin","preventDefault","then","userCredential","user","payload","catch","login","formOne","map","input","divBtn","btnlogin"],"sources":["/Users/user/Downloads/petlove-main/src/components/Login.js"],"sourcesContent":["import { useContext, useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\n\nimport { signInWithEmailAndPassword } from \"firebase/auth\";\nimport { auth } from '../firebase';\n\nimport InputLogin from '../components/InputLogin'\nimport { AuthContext } from '../context/AuthContext';\n\nimport styles from './Login.module.css'\n\n\nconst Login = () => {\n    const inputs = [\n        {\n            id: 1,\n            name: \"email\",\n            type: \"email\",\n            placeholder: \"Email\",\n            errorMessage: \"It should be a valid email adress\",\n            label: \"Email\",\n            required: true,\n        },\n        {\n            id: 2,\n            name: \"password\",\n            label: \"Password\",\n            type: \"password\",\n            placeholder: \"Password\",\n            errorMessage: \"Minimum six characters, at least one letter and one number\",\n            required: true,\n        }\n    ]\n\n    const [error, setError] = useState(false);\n\n    const [values, setValues] = useState({\n        email: \"\",\n        password: \"\",\n    })\n\n\n    const navigate = useNavigate();\n\n    const { dispatch } = useContext(AuthContext);\n\n    const onChange = (e) => {\n        setValues({ ...values, [e.target.name]: e.target.value });\n    }\n\n    const handleLogin = (e) => {\n        e.preventDefault();\n\n        signInWithEmailAndPassword(auth, values.email, values.password)\n            .then((userCredential) => {\n                // Signed in \n                const user = userCredential.user;\n                dispatch({ type: \"LOGIN\", payload: user })\n                navigate('/');\n\n            })\n            .catch((error) => {\n\n                setError(true);\n            });\n    }\n\n    return (\n\n        <div className=\"container\">\n            <div className={styles.login}>\n                <form className={styles.formOne} onSubmit={handleLogin}>\n\n\n                    {inputs.map((input) => (\n                        <InputLogin\n                            key={input.id}\n                            {...input}\n                            value={values[input.name]}\n                            onChange={onChange}\n                        />\n                    ))}\n                    <div className={styles.divBtn}>\n                        <button disabled={error} className={styles.btnlogin}>Login</button>\n                        <p className={styles[\"p-auth-info\"]}>\n                            Don't Have an Account?{\" \"}\n                            <Link className=\"link-auth\" to=\"/register\">\n                                {\" \"}\n                                Register\n                            </Link>{\" \"}\n                        </p>\n                        {error && <p className={styles['error-login']}>Incorrect Credentials</p>}\n                    </div>\n                </form>\n            </div>\n\n        </div>\n\n    )\n}\n\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}