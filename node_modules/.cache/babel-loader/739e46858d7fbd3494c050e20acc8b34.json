{"ast":null,"code":"var _jsxFileName = \"/Users/ihsuanhuang/Documents/m3hw/petest/petlove/src/components/Register.js\",\n    _s = $RefreshSig$();\n\nimport { useContext, useState } from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { createUserWithEmailAndPassword } from \"firebase/auth\";\nimport { auth } from \"../firebase\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport InputLogin from \"../components/InputLogin\";\nimport styles from \"./Register.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Register = () => {\n  _s();\n\n  const inputs = [{\n    id: 1,\n    name: \"email\",\n    type: \"email\",\n    placeholder: \"Email\",\n    errorMessage: \"It should be a valid email adress\",\n    label: \"Email\",\n    required: true\n  }, {\n    id: 2,\n    name: \"password\",\n    label: \"Password\",\n    type: \"password\",\n    placeholder: \"Password\",\n    errorMessage: \"Password should be 8-20 characters and include at least 1 letter, 1 number and 1 special character!\",\n    pattern: `^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,20}$`,\n    required: true\n  }, {\n    id: 3,\n    name: \"repeatPassword\",\n    label: \"Confirm Password\",\n    type: \"password\",\n    placeholder: \"Confirm Password\",\n    errorMessage: \"Password doesn't match\",\n    //   pattern: \"^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{6,}$\",\n    required: true\n  }];\n  const [error, setError] = useState(false);\n  const [values, setValues] = useState({\n    email: \"\",\n    password: \"\",\n    repeatPassword: \"\"\n  });\n  const navigate = useNavigate();\n  const {\n    dispatch\n  } = useContext(AuthContext);\n\n  const onChange = e => {\n    setValues({ ...values,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleLogin = e => {\n    e.preventDefault();\n\n    if (values.password !== values.repeatPassword) {\n      setError(true);\n      return;\n    } else {\n      setError(false);\n    }\n\n    createUserWithEmailAndPassword(auth, values.email, values.password).then(userCredential => {\n      const user = userCredential.user;\n      dispatch({\n        type: \"REGISTER\",\n        payload: user\n      });\n      navigate(\"/\");\n    }).catch(error => {\n      setError(true);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.register,\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: styles.formOne,\n      onSubmit: handleLogin,\n      children: [inputs.map(input => /*#__PURE__*/_jsxDEV(InputLogin, { ...input,\n        value: values[input.name],\n        onChange: onChange\n      }, input.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles[\"divBtn\"],\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles[\"btnlogin\"],\n          type: \"submit\",\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles[\"p-auth-info\"],\n          children: [\"Have already an account?\", \" \", /*#__PURE__*/_jsxDEV(Link, {\n            className: \"link-auth\",\n            to: \"/login\",\n            children: [\" \", \"Login\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles['error-register'],\n          children: \"passwords does not match\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 31\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Register, \"GwtYPxBd1ADbXvd9kAGpIvSTQ+Y=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["useContext","useState","useNavigate","Link","createUserWithEmailAndPassword","auth","AuthContext","InputLogin","styles","Register","inputs","id","name","type","placeholder","errorMessage","label","required","pattern","error","setError","values","setValues","email","password","repeatPassword","navigate","dispatch","onChange","e","target","value","handleLogin","preventDefault","then","userCredential","user","payload","catch","register","formOne","map","input"],"sources":["/Users/ihsuanhuang/Documents/m3hw/petest/petlove/src/components/Register.js"],"sourcesContent":["import { useContext, useState } from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\n\nimport { createUserWithEmailAndPassword } from \"firebase/auth\";\nimport { auth } from \"../firebase\";\n\nimport { AuthContext } from \"../context/AuthContext\";\nimport InputLogin from \"../components/InputLogin\";\nimport styles from \"./Register.module.css\";\n\nconst Register = () => {\n    const inputs = [\n        {\n            id: 1,\n            name: \"email\",\n            type: \"email\",\n            placeholder: \"Email\",\n            errorMessage: \"It should be a valid email adress\",\n            label: \"Email\",\n            required: true,\n        },\n        {\n            id: 2,\n            name: \"password\",\n            label: \"Password\",\n            type: \"password\",\n            placeholder: \"Password\",\n            errorMessage:\n                \"Password should be 8-20 characters and include at least 1 letter, 1 number and 1 special character!\",\n            pattern: `^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,20}$`,\n            required: true,\n        },\n        {\n            id: 3,\n            name: \"repeatPassword\",\n            label: \"Confirm Password\",\n            type: \"password\",\n            placeholder: \"Confirm Password\",\n            errorMessage: \"Password doesn't match\",\n            //   pattern: \"^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{6,}$\",\n            required: true,\n        },\n    ];\n\n\n    const [error, setError] = useState(false);\n\n    const [values, setValues] = useState({\n        email: \"\",\n        password: \"\",\n        repeatPassword: \"\"\n    });\n\n    const navigate = useNavigate();\n\n    const { dispatch } = useContext(AuthContext);\n\n    const onChange = (e) => {\n        setValues({ ...values, [e.target.name]: e.target.value });\n    };\n\n    const handleLogin = (e) => {\n        e.preventDefault();\n\n        if (values.password !== values.repeatPassword) {\n            setError(true)\n            return;\n        } else {\n            setError(false)\n        }\n\n        createUserWithEmailAndPassword(auth, values.email, values.password)\n            .then((userCredential) => {\n\n                const user = userCredential.user;\n                dispatch({ type: \"REGISTER\", payload: user });\n\n                navigate(\"/\");\n\n            })\n            .catch((error) => {\n                setError(true);\n            });\n    };\n\n    return (\n        <div className={styles.register}>\n            <form className={styles.formOne} onSubmit={handleLogin}>\n                {inputs.map((input) => (\n                    <InputLogin\n                        key={input.id}\n                        {...input}\n                        value={values[input.name]}\n                        onChange={onChange}\n                    />\n                ))}\n                <div className={styles[\"divBtn\"]}>\n                    <button className={styles[\"btnlogin\"]} type=\"submit\">\n                        Register\n                    </button>\n                    <p className={styles[\"p-auth-info\"]}>\n                        Have already an account?{\" \"}\n                        <Link className=\"link-auth\" to=\"/login\">\n                            {\" \"}\n                            Login\n                        </Link>{\" \"}\n                    </p>\n                    {error && <p className={styles['error-register']}>passwords does not match</p>}\n                </div>\n            </form>\n        </div>\n    );\n};\n\nexport default Register;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}