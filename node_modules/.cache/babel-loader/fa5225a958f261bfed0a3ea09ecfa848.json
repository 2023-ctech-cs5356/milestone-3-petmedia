{"ast":null,"code":"import _objectSpread from\"/Users/ihsuanhuang/Documents/m3hw/petest/petlove/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/ihsuanhuang/Documents/m3hw/petest/petlove/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/ihsuanhuang/Documents/m3hw/petest/petlove/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{db}from\"../firebase\";import{collection,doc,getDocs,addDoc,setDoc,getDoc,deleteDoc}from\"firebase/firestore\";export function addPet(_x){return _addPet.apply(this,arguments);}function _addPet(){_addPet=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(data){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return addDoc(collection(db,\"pets\"),data);case 2:return _context.abrupt(\"return\",_context.sent);case 3:case\"end\":return _context.stop();}}},_callee);}));return _addPet.apply(this,arguments);}export function getOne(_x2){return _getOne.apply(this,arguments);}function _getOne(){_getOne=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(petId){var docRef,docSnap;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:docRef=doc(db,\"pets\",petId);_context2.next=3;return getDoc(docRef);case 3:docSnap=_context2.sent;if(!docSnap.exists()){_context2.next=8;break;}return _context2.abrupt(\"return\",docSnap);case 8:return _context2.abrupt(\"return\",console.log('No such document'));case 9:case\"end\":return _context2.stop();}}},_callee2);}));return _getOne.apply(this,arguments);}export function getAll(){return _getAll.apply(this,arguments);}function _getAll(){_getAll=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var querySnapshot;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return getDocs(collection(db,\"pets\"));case 2:querySnapshot=_context3.sent;return _context3.abrupt(\"return\",querySnapshot);case 4:case\"end\":return _context3.stop();}}},_callee3);}));return _getAll.apply(this,arguments);}export function updatePet(_x3){return _updatePet.apply(this,arguments);}function _updatePet(){_updatePet=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(pet){var docRef,docSnap;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return setDoc(doc(db,\"pets\",pet.id),_objectSpread({},pet));case 2:docRef=doc(db,\"pets\",pet.id);_context4.next=5;return getDoc(docRef);case 5:docSnap=_context4.sent;return _context4.abrupt(\"return\",docSnap.data());case 7:case\"end\":return _context4.stop();}}},_callee4);}));return _updatePet.apply(this,arguments);}export function deletePet(_x4){return _deletePet.apply(this,arguments);}function _deletePet(){_deletePet=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(petId){return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return deleteDoc(doc(db,\"pets\",petId));case 2:return _context5.abrupt(\"return\",_context5.sent);case 3:case\"end\":return _context5.stop();}}},_callee5);}));return _deletePet.apply(this,arguments);}","map":{"version":3,"names":["db","collection","doc","getDocs","addDoc","setDoc","getDoc","deleteDoc","addPet","data","getOne","petId","docRef","docSnap","exists","console","log","getAll","querySnapshot","updatePet","pet","id","deletePet"],"sources":["/Users/ihsuanhuang/Documents/m3hw/petest/petlove/src/services/petService.js"],"sourcesContent":["import { db } from \"../firebase\";\nimport { collection, doc, getDocs, addDoc, setDoc, getDoc, deleteDoc } from \"firebase/firestore\";\n\n\nexport async function addPet(data) {\n    return await addDoc(collection(db, \"pets\"), data)\n}\n\n\nexport async function getOne(petId) {\n\n    const docRef = (doc(db, \"pets\", petId));\n    const docSnap = await getDoc(docRef);\n    if (docSnap.exists()) {\n        return docSnap;\n    } else {\n        return console.log('No such document')\n    }\n\n}\n\nexport async function getAll() {\n    \n    const querySnapshot = await getDocs(collection(db, \"pets\"));\n    return querySnapshot;\n}\n\nexport async function updatePet(pet) {\n\n    await setDoc(doc(db, \"pets\", pet.id), {\n        ...pet\n    });\n    const docRef = doc(db, \"pets\", pet.id);\n    const docSnap = await getDoc(docRef);\n    return docSnap.data();\n\n}\n\nexport async function deletePet(petId) {\n    return await deleteDoc(doc(db, \"pets\", petId));\n}\n\n\n"],"mappings":"iaAAA,OAASA,EAAT,KAAmB,aAAnB,CACA,OAASC,UAAT,CAAqBC,GAArB,CAA0BC,OAA1B,CAAmCC,MAAnC,CAA2CC,MAA3C,CAAmDC,MAAnD,CAA2DC,SAA3D,KAA4E,oBAA5E,CAGA,eAAsBC,OAAtB,2C,qFAAO,iBAAsBC,IAAtB,0IACUL,OAAM,CAACH,UAAU,CAACD,EAAD,CAAK,MAAL,CAAX,CAAyBS,IAAzB,CADhB,6G,yCAKP,eAAsBC,OAAtB,4C,qFAAO,kBAAsBC,KAAtB,2IAEGC,MAFH,CAEaV,GAAG,CAACF,EAAD,CAAK,MAAL,CAAaW,KAAb,CAFhB,wBAGmBL,OAAM,CAACM,MAAD,CAHzB,QAGGC,OAHH,oBAICA,OAAO,CAACC,MAAR,EAJD,2DAKQD,OALR,0CAOQE,OAAO,CAACC,GAAR,CAAY,kBAAZ,CAPR,0D,yCAYP,eAAsBC,OAAtB,yC,qFAAO,mLAEyBd,QAAO,CAACF,UAAU,CAACD,EAAD,CAAK,MAAL,CAAX,CAFhC,QAEGkB,aAFH,iDAGIA,aAHJ,0D,yCAMP,eAAsBC,UAAtB,+C,2FAAO,kBAAyBC,GAAzB,kKAEGf,OAAM,CAACH,GAAG,CAACF,EAAD,CAAK,MAAL,CAAaoB,GAAG,CAACC,EAAjB,CAAJ,kBACLD,GADK,EAFT,QAKGR,MALH,CAKYV,GAAG,CAACF,EAAD,CAAK,MAAL,CAAaoB,GAAG,CAACC,EAAjB,CALf,wBAMmBf,OAAM,CAACM,MAAD,CANzB,QAMGC,OANH,iDAOIA,OAAO,CAACJ,IAAR,EAPJ,0D,4CAWP,eAAsBa,UAAtB,+C,2FAAO,kBAAyBX,KAAzB,+IACUJ,UAAS,CAACL,GAAG,CAACF,EAAD,CAAK,MAAL,CAAaW,KAAb,CAAJ,CADnB,iH"},"metadata":{},"sourceType":"module"}