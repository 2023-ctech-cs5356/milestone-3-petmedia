{"ast":null,"code":"import _defineProperty from\"/Users/ihsuanhuang/Documents/m3hw/petest/petlove/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/ihsuanhuang/Documents/m3hw/petest/petlove/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/ihsuanhuang/Documents/m3hw/petest/petlove/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useState}from'react';import{useNavigate,Link}from'react-router-dom';import{signInWithEmailAndPassword}from\"firebase/auth\";import{auth}from'../firebase';import InputLogin from'../components/InputLogin';import{AuthContext}from'../context/AuthContext';import styles from'./Login.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isError=_useState2[0],setIsError=_useState2[1];var _useState3=useState({email:\"\",password:\"\"}),_useState4=_slicedToArray(_useState3,2),inputValues=_useState4[0],setInputValues=_useState4[1];var navigate=useNavigate();var _useContext=useContext(AuthContext),dispatch=_useContext.dispatch;var handleInputChange=function handleInputChange(event){setInputValues(_objectSpread(_objectSpread({},inputValues),{},_defineProperty({},event.target.name,event.target.value)));};var handleLoginFormSubmit=function handleLoginFormSubmit(event){event.preventDefault();signInWithEmailAndPassword(auth,inputValues.email,inputValues.password).then(function(userCredential){// Signed in successfully\nvar user=userCredential.user;dispatch({type:\"LOGIN\",payload:user});navigate('/');}).catch(function(error){setIsError(true);});};var loginInputs=[{id:1,name:\"email\",type:\"email\",placeholder:\"Email\",errorMessage:\"It should be a valid email adress\",label:\"Email\",required:true},{id:2,name:\"password\",label:\"Password\",type:\"password\",placeholder:\"Password\",errorMessage:\"Minimum six characters, at least one letter and one number\",required:true}];return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:styles.login,children:/*#__PURE__*/_jsxs(\"form\",{className:styles.formOne,onSubmit:handleLoginFormSubmit,children:[loginInputs.map(function(input){return/*#__PURE__*/_jsx(InputLogin,_objectSpread(_objectSpread({},input),{},{value:inputValues[input.name],onChange:handleInputChange}),input.id);}),/*#__PURE__*/_jsxs(\"div\",{className:styles.divBtn,children:[/*#__PURE__*/_jsx(\"button\",{disabled:isError,className:styles.btnlogin,children:\"Login\"}),/*#__PURE__*/_jsxs(\"p\",{className:styles[\"p-auth-info\"],children:[\"Don't Have an Account?\",\" \",/*#__PURE__*/_jsxs(Link,{className:\"link-auth\",to:\"/register\",children:[\" \",\"Register\"]}),\" \"]}),isError&&/*#__PURE__*/_jsx(\"p\",{className:styles['error-login'],children:\"Incorrect Credentials\"})]})]})})});};export default Login;","map":{"version":3,"names":["useContext","useState","useNavigate","Link","signInWithEmailAndPassword","auth","InputLogin","AuthContext","styles","Login","isError","setIsError","email","password","inputValues","setInputValues","navigate","dispatch","handleInputChange","event","target","name","value","handleLoginFormSubmit","preventDefault","then","userCredential","user","type","payload","catch","error","loginInputs","id","placeholder","errorMessage","label","required","login","formOne","map","input","divBtn","btnlogin"],"sources":["/Users/ihsuanhuang/Documents/m3hw/petest/petlove/src/components/Login.js"],"sourcesContent":["import { useContext, useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\n\nimport { signInWithEmailAndPassword } from \"firebase/auth\";\nimport { auth } from '../firebase';\n\nimport InputLogin from '../components/InputLogin'\nimport { AuthContext } from '../context/AuthContext';\n\nimport styles from './Login.module.css'\n\n\nconst Login = () => {\n    const [isError, setIsError] = useState(false);\n    const [inputValues, setInputValues] = useState({\n      email: \"\",\n      password: \"\",\n    });\n  \n    const navigate = useNavigate();\n    const { dispatch } = useContext(AuthContext);\n  \n    const handleInputChange = (event) => {\n      setInputValues({ ...inputValues, [event.target.name]: event.target.value });\n    }\n  \n    const handleLoginFormSubmit = (event) => {\n      event.preventDefault();\n  \n      signInWithEmailAndPassword(auth, inputValues.email, inputValues.password)\n        .then((userCredential) => {\n          // Signed in successfully\n          const user = userCredential.user;\n          dispatch({ type: \"LOGIN\", payload: user });\n          navigate('/');\n        })\n        .catch((error) => {\n          setIsError(true);\n        });\n    }\n  \n    const loginInputs = [\n      {\n        id: 1,\n        name: \"email\",\n        type: \"email\",\n        placeholder: \"Email\",\n        errorMessage: \"It should be a valid email adress\",\n        label: \"Email\",\n        required: true,\n      },\n      {\n        id: 2,\n        name: \"password\",\n        label: \"Password\",\n        type: \"password\",\n        placeholder: \"Password\",\n        errorMessage: \"Minimum six characters, at least one letter and one number\",\n        required: true,\n      }\n    ];\n  \n    return (\n      <div className=\"container\">\n        <div className={styles.login}>\n          <form className={styles.formOne} onSubmit={handleLoginFormSubmit}>\n            {loginInputs.map((input) => (\n              <InputLogin\n                key={input.id}\n                {...input}\n                value={inputValues[input.name]}\n                onChange={handleInputChange}\n              />\n            ))}\n            <div className={styles.divBtn}>\n              <button disabled={isError} className={styles.btnlogin}>Login</button>\n              <p className={styles[\"p-auth-info\"]}>\n                Don't Have an Account?{\" \"}\n                <Link className=\"link-auth\" to=\"/register\">\n                  {\" \"}\n                  Register\n                </Link>{\" \"}\n              </p>\n              {isError && <p className={styles['error-login']}>Incorrect Credentials</p>}\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n  };\n  \n  export default Login;\n  "],"mappings":"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"},"metadata":{},"sourceType":"module"}