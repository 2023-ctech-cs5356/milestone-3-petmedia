{"ast":null,"code":"import{useContext}from'react';import{Routes,Route,Navigate}from'react-router-dom';import Header from'./components/Header';import Login from'./components/Login';import Home from'./components/Home';import Register from'./components/Register';import AddNewPet from'./components/Pets/AddNewPet';import{AuthContext}from'./context/AuthContext';import EditPet from'./components/Pets/EditPet';import AvailablePets from'./components/Pets/AvailablePets';import PetDetails from'./components/Pets/PetDetails';import Profile from'./components/Profile';import Footer from'./components/Footer';import{PetContext}from'./context/PetContext';import'./App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useContext=useContext(AuthContext),currentUser=_useContext.currentUser;var ctx=useContext(PetContext);var pets=ctx.pets;var OwnerRoute=function OwnerRoute(_ref){var children=_ref.children;var isItValid=pets.find(function(pet){return pet.ownerId===currentUser.uid;});return isItValid?children:/*#__PURE__*/_jsx(Navigate,{to:\"/\"});};var PrivateRoute=function PrivateRoute(_ref2){var children=_ref2.children;return currentUser?children:/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});};var PublicRoute=function PublicRoute(_ref3){var children=_ref3.children;return!currentUser?children:/*#__PURE__*/_jsx(Navigate,{to:\"/\"});};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsxs(PublicRoute,{children:[\" \",/*#__PURE__*/_jsx(Login,{}),\" \"]})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsxs(PublicRoute,{children:[\" \",/*#__PURE__*/_jsx(Register,{})]})}),/*#__PURE__*/_jsx(Route,{path:\"/pets/add\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(AddNewPet,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/pets\",element:/*#__PURE__*/_jsx(AvailablePets,{})}),/*#__PURE__*/_jsx(Route,{path:\"/pets/:petId\",element:/*#__PURE__*/_jsx(PetDetails,{})}),/*#__PURE__*/_jsx(Route,{path:\"/pets/:petId/edit\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsxs(OwnerRoute,{children:[/*#__PURE__*/_jsx(EditPet,{}),\" \"]})})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(Profile,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]}),/*#__PURE__*/_jsx(Footer,{})]});}export default App;","map":{"version":3,"names":["useContext","Routes","Route","Navigate","Header","Login","Home","Register","AddNewPet","AuthContext","EditPet","AvailablePets","PetDetails","Profile","Footer","PetContext","App","currentUser","ctx","pets","OwnerRoute","children","isItValid","find","pet","ownerId","uid","PrivateRoute","PublicRoute"],"sources":["/Users/ihsuanhuang/Documents/m3hw/petest/petlove/src/App.js"],"sourcesContent":["import { useContext } from 'react';\nimport { Routes, Route, Navigate } from 'react-router-dom';\n\nimport Header from './components/Header';\nimport Login from './components/Login';\nimport Home from './components/Home';\nimport Register from './components/Register';\n\nimport AddNewPet from './components/Pets/AddNewPet';\nimport { AuthContext } from './context/AuthContext';\nimport EditPet from './components/Pets/EditPet';\nimport AvailablePets from './components/Pets/AvailablePets';\nimport PetDetails from './components/Pets/PetDetails';\nimport Profile from './components/Profile';\nimport Footer from './components/Footer';\n\nimport { PetContext } from './context/PetContext';\nimport './App.css';\n\n\nfunction App() {\n\n  const { currentUser } = useContext(AuthContext);\n  const ctx = useContext(PetContext);\n  const pets = ctx.pets;\n\n  const OwnerRoute = ({ children }) => {\n    const isItValid = pets.find((pet) => pet.ownerId === currentUser.uid);\n    return isItValid ? (children) : <Navigate to=\"/\" />\n  }\n\n  const PrivateRoute = ({ children }) => {\n    return currentUser ? (children) : <Navigate to=\"/login\" />\n  }\n\n  const PublicRoute = ({ children }) => {\n    return !currentUser ? (children) : <Navigate to=\"/\" />\n  }\n\n\n\n\n\n  return (\n    <div className=\"App\">\n      <Header />\n      <Routes>\n        <Route path='/' element={<Home />} />\n\n        <Route path='/login' element={<PublicRoute> <Login /> </PublicRoute>} />\n\n        <Route path='/register' element={<PublicRoute> <Register /></PublicRoute>} />\n\n        <Route path='/pets/add' element={<PrivateRoute><AddNewPet /></PrivateRoute>} />\n\n        <Route path='/pets' element={<AvailablePets></AvailablePets>} />\n\n        <Route path='/pets/:petId' element={<PetDetails />} />\n\n        <Route path='/pets/:petId/edit' element={<PrivateRoute><OwnerRoute><EditPet /> </OwnerRoute></PrivateRoute>} />\n\n        <Route path='/profile' element={<PrivateRoute><Profile /></PrivateRoute>} />\n\n        <Route path=\"/*\" element={<Navigate to=\"/\" replace={true} />} />\n\n      </Routes>\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}