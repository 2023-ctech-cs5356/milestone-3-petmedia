{"ast":null,"code":"import _defineProperty from\"/Users/ihsuanhuang/Documents/m3hw/petest/petlove/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/ihsuanhuang/Documents/m3hw/petest/petlove/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/ihsuanhuang/Documents/m3hw/petest/petlove/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// import { useContext, useState } from \"react\";\n// import { useNavigate, Link } from \"react-router-dom\";\n// import { createUserWithEmailAndPassword } from \"firebase/auth\";\n// import { auth } from \"../firebase\";\n// import { AuthContext } from \"../context/AuthContext\";\n// import InputLogin from \"../components/InputLogin\";\n// import styles from \"./Register.module.css\";\n// const Register = () => {\n//     const inputs = [\n//         {\n//             id: 1,\n//             name: \"email\",\n//             type: \"email\",\n//             placeholder: \"Email\",\n//             errorMessage: \"It should be a valid email adress\",\n//             label: \"Email\",\n//             required: true,\n//         },\n//         {\n//             id: 2,\n//             name: \"password\",\n//             label: \"Password\",\n//             type: \"password\",\n//             placeholder: \"Password\",\n//             errorMessage:\n//                 \"Password should be 8-20 characters and include at least 1 letter, 1 number and 1 special character!\",\n//             pattern: `^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,20}$`,\n//             required: true,\n//         },\n//         {\n//             id: 3,\n//             name: \"repeatPassword\",\n//             label: \"Confirm Password\",\n//             type: \"password\",\n//             placeholder: \"Confirm Password\",\n//             errorMessage: \"Password doesn't match\",\n//             //   pattern: \"^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{6,}$\",\n//             required: true,\n//         },\n//     ];\n//     const [error, setError] = useState(false);\n//     const [values, setValues] = useState({\n//         email: \"\",\n//         password: \"\",\n//         repeatPassword: \"\"\n//     });\n//     const navigate = useNavigate();\n//     const { dispatch } = useContext(AuthContext);\n//     const onChange = (e) => {\n//         setValues({ ...values, [e.target.name]: e.target.value });\n//     };\n//     const handleLogin = (e) => {\n//         e.preventDefault();\n//         if (values.password !== values.repeatPassword) {\n//             setError(true)\n//             return;\n//         } else {\n//             setError(false)\n//         }\n//         createUserWithEmailAndPassword(auth, values.email, values.password)\n//             .then((userCredential) => {\n//                 const user = userCredential.user;\n//                 dispatch({ type: \"REGISTER\", payload: user });\n//                 navigate(\"/\");\n//             })\n//             .catch((error) => {\n//                 setError(true);\n//             });\n//     };\n//     return (\n//         <div className={styles.register}>\n//             <form className={styles.formOne} onSubmit={handleLogin}>\n//                 {inputs.map((input) => (\n//                     <InputLogin\n//                         key={input.id}\n//                         {...input}\n//                         value={values[input.name]}\n//                         onChange={onChange}\n//                     />\n//                 ))}\n//                 <div className={styles[\"divBtn\"]}>\n//                     <button className={styles[\"btnlogin\"]} type=\"submit\">\n//                         Register\n//                     </button>\n//                     <p className={styles[\"p-auth-info\"]}>\n//                         Have already an account?{\" \"}\n//                         <Link className=\"link-auth\" to=\"/login\">\n//                             {\" \"}\n//                             Login\n//                         </Link>{\" \"}\n//                     </p>\n//                     {error && <p className={styles['error-register']}>passwords does not match</p>}\n//                 </div>\n//             </form>\n//         </div>\n//     );\n// };\n// export default Register;\nimport React,{useContext,useState}from\"react\";import{useNavigate,Link}from\"react-router-dom\";import{createUserWithEmailAndPassword}from\"firebase/auth\";import{auth}from\"../firebase\";import{AuthContext}from\"../context/AuthContext\";import InputLogin from\"../components/InputLogin\";import styles from\"./Register.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState({email:\"\",password:\"\",repeatPassword:\"\"}),_useState4=_slicedToArray(_useState3,2),values=_useState4[0],setValues=_useState4[1];var navigate=useNavigate();var _useContext=useContext(AuthContext),dispatch=_useContext.dispatch;var inputs=[{id:1,name:\"email\",type:\"email\",label:\"Email\",placeholder:\"Email\",required:true,errorMessage:\"Please enter a valid email address\"},{id:2,name:\"password\",type:\"password\",label:\"Password\",placeholder:\"Password\",required:true,errorMessage:\"Password should be 8-20 characters and include at least 1 letter, 1 number and 1 special character!\",pattern:\"^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,20}$\"},{id:3,name:\"repeatPassword\",type:\"password\",label:\"Confirm Password\",placeholder:\"Confirm Password\",required:true,errorMessage:\"Passwords do not match\"}];var handleInputChange=function handleInputChange(event){setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},event.target.name,event.target.value)));};var handleSubmit=function handleSubmit(event){event.preventDefault();if(values.password!==values.repeatPassword){setError(true);return;}else{setError(false);}createUserWithEmailAndPassword(auth,values.email,values.password).then(function(userCredential){var user=userCredential.user;dispatch({type:\"REGISTER\",payload:user});navigate(\"/\");}).catch(function(error){setError(true);});};return/*#__PURE__*/_jsx(\"div\",{className:styles.register,children:/*#__PURE__*/_jsxs(\"form\",{className:styles.formOne,onSubmit:handleSubmit,children:[inputs.map(function(input){return/*#__PURE__*/_jsx(InputLogin,{type:input.type,name:input.name,label:input.label,placeholder:input.placeholder,required:input.required,errorMessage:input.errorMessage,pattern:input.pattern,value:values[input.name],onChange:handleInputChange},input.id);}),/*#__PURE__*/_jsxs(\"div\",{className:styles[\"divBtn\"],children:[/*#__PURE__*/_jsx(\"button\",{className:styles[\"btnlogin\"],type:\"submit\",children:\"Register\"}),/*#__PURE__*/_jsxs(\"p\",{className:styles[\"p-auth-info\"],children:[\"Already have an account?\",\" \",/*#__PURE__*/_jsxs(Link,{className:\"link-auth\",to:\"/login\",children:[\" \",\"Log in\"]}),\" \"]}),error&&/*#__PURE__*/_jsx(\"p\",{className:styles[\"error-register\"],children:inputs[2].errorMessage})]})]})});};export default Register;","map":{"version":3,"names":["React","useContext","useState","useNavigate","Link","createUserWithEmailAndPassword","auth","AuthContext","InputLogin","styles","Register","error","setError","email","password","repeatPassword","values","setValues","navigate","dispatch","inputs","id","name","type","label","placeholder","required","errorMessage","pattern","handleInputChange","event","target","value","handleSubmit","preventDefault","then","userCredential","user","payload","catch","register","formOne","map","input"],"sources":["/Users/ihsuanhuang/Documents/m3hw/petest/petlove/src/components/Register.js"],"sourcesContent":["// import { useContext, useState } from \"react\";\n// import { useNavigate, Link } from \"react-router-dom\";\n\n// import { createUserWithEmailAndPassword } from \"firebase/auth\";\n// import { auth } from \"../firebase\";\n\n// import { AuthContext } from \"../context/AuthContext\";\n// import InputLogin from \"../components/InputLogin\";\n// import styles from \"./Register.module.css\";\n\n// const Register = () => {\n//     const inputs = [\n//         {\n//             id: 1,\n//             name: \"email\",\n//             type: \"email\",\n//             placeholder: \"Email\",\n//             errorMessage: \"It should be a valid email adress\",\n//             label: \"Email\",\n//             required: true,\n//         },\n//         {\n//             id: 2,\n//             name: \"password\",\n//             label: \"Password\",\n//             type: \"password\",\n//             placeholder: \"Password\",\n//             errorMessage:\n//                 \"Password should be 8-20 characters and include at least 1 letter, 1 number and 1 special character!\",\n//             pattern: `^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,20}$`,\n//             required: true,\n//         },\n//         {\n//             id: 3,\n//             name: \"repeatPassword\",\n//             label: \"Confirm Password\",\n//             type: \"password\",\n//             placeholder: \"Confirm Password\",\n//             errorMessage: \"Password doesn't match\",\n//             //   pattern: \"^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{6,}$\",\n//             required: true,\n//         },\n//     ];\n\n\n//     const [error, setError] = useState(false);\n\n//     const [values, setValues] = useState({\n//         email: \"\",\n//         password: \"\",\n//         repeatPassword: \"\"\n//     });\n\n//     const navigate = useNavigate();\n\n//     const { dispatch } = useContext(AuthContext);\n\n//     const onChange = (e) => {\n//         setValues({ ...values, [e.target.name]: e.target.value });\n//     };\n\n//     const handleLogin = (e) => {\n//         e.preventDefault();\n\n//         if (values.password !== values.repeatPassword) {\n//             setError(true)\n//             return;\n//         } else {\n//             setError(false)\n//         }\n\n//         createUserWithEmailAndPassword(auth, values.email, values.password)\n//             .then((userCredential) => {\n\n//                 const user = userCredential.user;\n//                 dispatch({ type: \"REGISTER\", payload: user });\n\n//                 navigate(\"/\");\n\n//             })\n//             .catch((error) => {\n//                 setError(true);\n//             });\n//     };\n\n//     return (\n//         <div className={styles.register}>\n//             <form className={styles.formOne} onSubmit={handleLogin}>\n//                 {inputs.map((input) => (\n//                     <InputLogin\n//                         key={input.id}\n//                         {...input}\n//                         value={values[input.name]}\n//                         onChange={onChange}\n//                     />\n//                 ))}\n//                 <div className={styles[\"divBtn\"]}>\n//                     <button className={styles[\"btnlogin\"]} type=\"submit\">\n//                         Register\n//                     </button>\n//                     <p className={styles[\"p-auth-info\"]}>\n//                         Have already an account?{\" \"}\n//                         <Link className=\"link-auth\" to=\"/login\">\n//                             {\" \"}\n//                             Login\n//                         </Link>{\" \"}\n//                     </p>\n//                     {error && <p className={styles['error-register']}>passwords does not match</p>}\n//                 </div>\n//             </form>\n//         </div>\n//     );\n// };\n\n// export default Register;\n\nimport React, { useContext, useState } from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { createUserWithEmailAndPassword } from \"firebase/auth\";\nimport { auth } from \"../firebase\";\nimport { AuthContext } from \"../context/AuthContext\";\n\nimport InputLogin from \"../components/InputLogin\";\nimport styles from \"./Register.module.css\";\n\nconst Register = () => {\n  const [error, setError] = useState(false);\n  const [values, setValues] = useState({\n    email: \"\",\n    password: \"\",\n    repeatPassword: \"\",\n  });\n\n  const navigate = useNavigate();\n  const { dispatch } = useContext(AuthContext);\n\n  const inputs = [\n    {\n      id: 1,\n      name: \"email\",\n      type: \"email\",\n      label: \"Email\",\n      placeholder: \"Email\",\n      required: true,\n      errorMessage: \"Please enter a valid email address\",\n    },\n    {\n      id: 2,\n      name: \"password\",\n      type: \"password\",\n      label: \"Password\",\n      placeholder: \"Password\",\n      required: true,\n      errorMessage:\n        \"Password should be 8-20 characters and include at least 1 letter, 1 number and 1 special character!\",\n      pattern: `^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,20}$`,\n    },\n    {\n      id: 3,\n      name: \"repeatPassword\",\n      type: \"password\",\n      label: \"Confirm Password\",\n      placeholder: \"Confirm Password\",\n      required: true,\n      errorMessage: \"Passwords do not match\",\n    },\n  ];\n\n  const handleInputChange = (event) => {\n    setValues({\n      ...values,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    if (values.password !== values.repeatPassword) {\n      setError(true);\n      return;\n    } else {\n      setError(false);\n    }\n\n    createUserWithEmailAndPassword(auth, values.email, values.password)\n      .then((userCredential) => {\n        const user = userCredential.user;\n        dispatch({ type: \"REGISTER\", payload: user });\n        navigate(\"/\");\n      })\n      .catch((error) => {\n        setError(true);\n      });\n  };\n\n  return (\n    <div className={styles.register}>\n      <form className={styles.formOne} onSubmit={handleSubmit}>\n        {inputs.map((input) => (\n          <InputLogin\n            key={input.id}\n            type={input.type}\n            name={input.name}\n            label={input.label}\n            placeholder={input.placeholder}\n            required={input.required}\n            errorMessage={input.errorMessage}\n            pattern={input.pattern}\n            value={values[input.name]}\n            onChange={handleInputChange}\n          />\n        ))}\n        <div className={styles[\"divBtn\"]}>\n          <button className={styles[\"btnlogin\"]} type=\"submit\">\n            Register\n          </button>\n          <p className={styles[\"p-auth-info\"]}>\n            Already have an account?{\" \"}\n            <Link className=\"link-auth\" to=\"/login\">\n              {\" \"}\n              Log in\n            </Link>{\" \"}\n          </p>\n          {error && (\n            <p className={styles[\"error-register\"]}>\n              {inputs[2].errorMessage}\n            </p>\n          )}\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default Register;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}