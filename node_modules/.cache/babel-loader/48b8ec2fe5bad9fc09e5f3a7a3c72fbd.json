{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ihsuanhuang/Documents/m3hw/petest/petlove/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/ihsuanhuang/Documents/m3hw/petest/petlove/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{db}from\"../firebase\";import{collection,doc,getDocs,addDoc,setDoc,getDoc,deleteDoc}from\"firebase/firestore\";export function addPet(_x){return _addPet.apply(this,arguments);}function _addPet(){_addPet=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(data){var petsCollection,newPetRef,newPetDoc;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;petsCollection=collection(db,\"pets\");_context.next=4;return addDoc(petsCollection,data);case 4:newPetRef=_context.sent;_context.next=7;return getDoc(newPetRef);case 7:newPetDoc=_context.sent;return _context.abrupt(\"return\",newPetDoc);case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.error(\"Error adding pet: \",_context.t0);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return _addPet.apply(this,arguments);}export function getOne(_x2){return _getOne.apply(this,arguments);}function _getOne(){_getOne=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(petId){var petsCollection,petDocRef,petDoc;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;petsCollection=collection(db,\"pets\");petDocRef=doc(petsCollection,petId);_context2.next=5;return getDoc(petDocRef);case 5:petDoc=_context2.sent;if(!petDoc.exists()){_context2.next=10;break;}return _context2.abrupt(\"return\",petDoc);case 10:console.log('No such document');case 11:_context2.next=16;break;case 13:_context2.prev=13;_context2.t0=_context2[\"catch\"](0);console.error(\"Error getting pet: \",_context2.t0);case 16:case\"end\":return _context2.stop();}}},_callee2,null,[[0,13]]);}));return _getOne.apply(this,arguments);}export function getAll(){return _getAll.apply(this,arguments);}function _getAll(){_getAll=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var petsCollection,querySnapshot;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;petsCollection=collection(db,\"pets\");_context3.next=4;return getDocs(petsCollection);case 4:querySnapshot=_context3.sent;return _context3.abrupt(\"return\",querySnapshot);case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](0);console.error(\"Error getting all pets: \",_context3.t0);case 11:case\"end\":return _context3.stop();}}},_callee3,null,[[0,8]]);}));return _getAll.apply(this,arguments);}export function updatePet(_x3){return _updatePet.apply(this,arguments);}function _updatePet(){_updatePet=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(pet){var petsCollection,petDocRef,updatedPetDoc;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;petsCollection=collection(db,\"pets\");petDocRef=doc(petsCollection,pet.id);_context4.next=5;return setDoc(petDocRef,pet);case 5:_context4.next=7;return getDoc(petDocRef);case 7:updatedPetDoc=_context4.sent;return _context4.abrupt(\"return\",updatedPetDoc);case 11:_context4.prev=11;_context4.t0=_context4[\"catch\"](0);console.error(\"Error updating pet: \",_context4.t0);case 14:case\"end\":return _context4.stop();}}},_callee4,null,[[0,11]]);}));return _updatePet.apply(this,arguments);}export function deletePet(_x4){return _deletePet.apply(this,arguments);}function _deletePet(){_deletePet=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(petId){var petsCollection,petDocRef,deletedPetDoc;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;petsCollection=collection(db,\"pets\");petDocRef=doc(petsCollection,petId);_context5.next=5;return getDoc(petDocRef);case 5:deletedPetDoc=_context5.sent;_context5.next=8;return deleteDoc(petDocRef);case 8:return _context5.abrupt(\"return\",deletedPetDoc);case 11:_context5.prev=11;_context5.t0=_context5[\"catch\"](0);console.error(\"Error deleting pet: \",_context5.t0);case 14:case\"end\":return _context5.stop();}}},_callee5,null,[[0,11]]);}));return _deletePet.apply(this,arguments);}","map":{"version":3,"names":["db","collection","doc","getDocs","addDoc","setDoc","getDoc","deleteDoc","addPet","data","petsCollection","newPetRef","newPetDoc","console","error","getOne","petId","petDocRef","petDoc","exists","log","getAll","querySnapshot","updatePet","pet","id","updatedPetDoc","deletePet","deletedPetDoc"],"sources":["/Users/ihsuanhuang/Documents/m3hw/petest/petlove/src/services/petService.js"],"sourcesContent":["\n\nimport { db } from \"../firebase\";\nimport { collection, doc, getDocs, addDoc, setDoc, getDoc, deleteDoc } from \"firebase/firestore\";\n\nexport async function addPet(data) {\n  try {\n    const petsCollection = collection(db, \"pets\");\n    const newPetRef = await addDoc(petsCollection, data);\n    const newPetDoc = await getDoc(newPetRef);\n    return newPetDoc;\n  } catch (error) {\n    console.error(\"Error adding pet: \", error);\n  }\n}\n\nexport async function getOne(petId) {\n  try {\n    const petsCollection = collection(db, \"pets\");\n    const petDocRef = doc(petsCollection, petId);\n    const petDoc = await getDoc(petDocRef);\n    if (petDoc.exists()) {\n      return petDoc;\n    } else {\n      console.log('No such document');\n    }\n  } catch (error) {\n    console.error(\"Error getting pet: \", error);\n  }\n}\n\nexport async function getAll() {\n  try {\n    const petsCollection = collection(db, \"pets\");\n    const querySnapshot = await getDocs(petsCollection);\n    return querySnapshot;\n  } catch (error) {\n    console.error(\"Error getting all pets: \", error);\n  }\n}\n\nexport async function updatePet(pet) {\n  try {\n    const petsCollection = collection(db, \"pets\");\n    const petDocRef = doc(petsCollection, pet.id);\n    await setDoc(petDocRef, pet);\n    const updatedPetDoc = await getDoc(petDocRef);\n    return updatedPetDoc;\n  } catch (error) {\n    console.error(\"Error updating pet: \", error);\n  }\n}\n\nexport async function deletePet(petId) {\n  try {\n    const petsCollection = collection(db, \"pets\");\n    const petDocRef = doc(petsCollection, petId);\n    const deletedPetDoc = await getDoc(petDocRef);\n    await deleteDoc(petDocRef);\n    return deletedPetDoc;\n  } catch (error) {\n    console.error(\"Error deleting pet: \", error);\n  }\n}\n\n\n"],"mappings":"4RAEA,OAASA,EAAT,KAAmB,aAAnB,CACA,OAASC,UAAT,CAAqBC,GAArB,CAA0BC,OAA1B,CAAmCC,MAAnC,CAA2CC,MAA3C,CAAmDC,MAAnD,CAA2DC,SAA3D,KAA4E,oBAA5E,CAEA,eAAsBC,OAAtB,2C,qFAAO,iBAAsBC,IAAtB,2KAEGC,cAFH,CAEoBT,UAAU,CAACD,EAAD,CAAK,MAAL,CAF9B,uBAGqBI,OAAM,CAACM,cAAD,CAAiBD,IAAjB,CAH3B,QAGGE,SAHH,qCAIqBL,OAAM,CAACK,SAAD,CAJ3B,QAIGC,SAJH,+CAKIA,SALJ,4DAOHC,OAAO,CAACC,KAAR,CAAc,oBAAd,cAPG,qE,yCAWP,eAAsBC,OAAtB,4C,qFAAO,kBAAsBC,KAAtB,6KAEGN,cAFH,CAEoBT,UAAU,CAACD,EAAD,CAAK,MAAL,CAF9B,CAGGiB,SAHH,CAGef,GAAG,CAACQ,cAAD,CAAiBM,KAAjB,CAHlB,wBAIkBV,OAAM,CAACW,SAAD,CAJxB,QAIGC,MAJH,oBAKCA,MAAM,CAACC,MAAP,EALD,4DAMMD,MANN,UAQDL,OAAO,CAACO,GAAR,CAAY,kBAAZ,EARC,6FAWHP,OAAO,CAACC,KAAR,CAAc,qBAAd,eAXG,uE,yCAeP,eAAsBO,OAAtB,yC,qFAAO,4LAEGX,cAFH,CAEoBT,UAAU,CAACD,EAAD,CAAK,MAAL,CAF9B,wBAGyBG,QAAO,CAACO,cAAD,CAHhC,QAGGY,aAHH,iDAIIA,aAJJ,6DAMHT,OAAO,CAACC,KAAR,CAAc,0BAAd,eANG,sE,yCAUP,eAAsBS,UAAtB,+C,2FAAO,kBAAyBC,GAAzB,oLAEGd,cAFH,CAEoBT,UAAU,CAACD,EAAD,CAAK,MAAL,CAF9B,CAGGiB,SAHH,CAGef,GAAG,CAACQ,cAAD,CAAiBc,GAAG,CAACC,EAArB,CAHlB,wBAIGpB,OAAM,CAACY,SAAD,CAAYO,GAAZ,CAJT,+BAKyBlB,OAAM,CAACW,SAAD,CAL/B,QAKGS,aALH,iDAMIA,aANJ,+DAQHb,OAAO,CAACC,KAAR,CAAc,sBAAd,eARG,uE,4CAYP,eAAsBa,UAAtB,+C,2FAAO,kBAAyBX,KAAzB,oLAEGN,cAFH,CAEoBT,UAAU,CAACD,EAAD,CAAK,MAAL,CAF9B,CAGGiB,SAHH,CAGef,GAAG,CAACQ,cAAD,CAAiBM,KAAjB,CAHlB,wBAIyBV,OAAM,CAACW,SAAD,CAJ/B,QAIGW,aAJH,uCAKGrB,UAAS,CAACU,SAAD,CALZ,yCAMIW,aANJ,+DAQHf,OAAO,CAACC,KAAR,CAAc,sBAAd,eARG,uE"},"metadata":{},"sourceType":"module"}