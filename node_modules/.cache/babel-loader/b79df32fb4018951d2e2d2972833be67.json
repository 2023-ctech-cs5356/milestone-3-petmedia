{"ast":null,"code":"import _slicedToArray from\"/Users/ihsuanhuang/Documents/m3hw/petest/petlove/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext,useEffect,useReducer}from\"react\";import AuthReducer from\"./AuthReducer\";import{jsx as _jsx}from\"react/jsx-runtime\";var INITIAL_STATE={currentUser:JSON.parse(localStorage.getItem(\"user\"))||null};export var AuthContext=/*#__PURE__*/createContext(INITIAL_STATE);export var AuthContextProvider=function AuthContextProvider(_ref){var children=_ref.children;var _useReducer=useReducer(AuthReducer,INITIAL_STATE),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];useEffect(function(){localStorage.setItem(\"user\",JSON.stringify(state.currentUser));},[state.currentUser]);return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{currentUser:state.currentUser,dispatch:dispatch},children:children});};","map":{"version":3,"names":["createContext","useEffect","useReducer","AuthReducer","INITIAL_STATE","currentUser","JSON","parse","localStorage","getItem","AuthContext","AuthContextProvider","children","state","dispatch","setItem","stringify"],"sources":["/Users/ihsuanhuang/Documents/m3hw/petest/petlove/src/context/AuthContext.js"],"sourcesContent":["import { createContext, useEffect, useReducer } from \"react\";\n\nimport AuthReducer from \"./AuthReducer\";\n\n\nconst INITIAL_STATE = {\n    currentUser: JSON.parse(localStorage.getItem(\"user\")) || null,\n};\n\nexport const AuthContext = createContext(INITIAL_STATE);\n\nexport const AuthContextProvider = ({ children }) => {\n    const [state, dispatch] = useReducer(AuthReducer, INITIAL_STATE);\n\n\n    useEffect(() => {\n        localStorage.setItem(\"user\", JSON.stringify(state.currentUser))\n    }, [state.currentUser]);\n\n\n\n    return (\n        <AuthContext.Provider value={{ currentUser: state.currentUser, dispatch }}>\n            {children}\n        </AuthContext.Provider>\n    );\n};"],"mappings":"sIAAA,OAASA,aAAT,CAAwBC,SAAxB,CAAmCC,UAAnC,KAAqD,OAArD,CAEA,MAAOC,YAAP,KAAwB,eAAxB,C,2CAGA,GAAMC,cAAa,CAAG,CAClBC,WAAW,CAAEC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,GAA4C,IADvC,CAAtB,CAIA,MAAO,IAAMC,YAAW,cAAGV,aAAa,CAACI,aAAD,CAAjC,CAEP,MAAO,IAAMO,oBAAmB,CAAG,QAAtBA,oBAAsB,MAAkB,IAAfC,SAAe,MAAfA,QAAe,CACjD,gBAA0BV,UAAU,CAACC,WAAD,CAAcC,aAAd,CAApC,4CAAOS,KAAP,iBAAcC,QAAd,iBAGAb,SAAS,CAAC,UAAM,CACZO,YAAY,CAACO,OAAb,CAAqB,MAArB,CAA6BT,IAAI,CAACU,SAAL,CAAeH,KAAK,CAACR,WAArB,CAA7B,EACH,CAFQ,CAEN,CAACQ,KAAK,CAACR,WAAP,CAFM,CAAT,CAMA,mBACI,KAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAE,CAAEA,WAAW,CAAEQ,KAAK,CAACR,WAArB,CAAkCS,QAAQ,CAARA,QAAlC,CAA7B,UACKF,QADL,EADJ,CAKH,CAfM"},"metadata":{},"sourceType":"module"}